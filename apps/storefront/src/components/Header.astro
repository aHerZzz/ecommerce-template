---
import { t } from '../i18n/config';
import { storeSettings } from '../config/store';
import { themeSettings } from '../config/theme';
import { ThemeToggle } from './ui/ThemeToggle';

const locale = t;
const { storeName, tagline } = storeSettings.branding;
const logo = themeSettings.logos.main;
---
<header class="sticky top-0 z-20 bg-white/95 shadow-sm backdrop-blur dark:bg-surface-dark/90">
  <div class="container flex flex-wrap items-center justify-between gap-4 py-4" role="banner">
    <a href="/" class="flex items-center gap-3" aria-label={`Ir al inicio de ${storeName}`}>
      {logo ? (
        <img src={logo} alt={`Logo de ${storeName}`} class="h-10 w-auto" />
      ) : (
        <span class="text-xl font-bold text-primary dark:text-text-dark">{storeName}</span>
      )}
      <span class="text-xs text-slate-500 dark:text-slate-300">{tagline}</span>
    </a>
    <div class="flex-1 min-w-[240px] max-w-xl">
      <label class="relative block" aria-label="Buscar productos">
        <span class="sr-only">{locale('searchPlaceholder')}</span>
        <input
          type="search"
          name="search"
          placeholder={locale('searchPlaceholder')}
          class="w-full rounded-full border border-gray-200 bg-white px-4 py-2 text-sm text-slate-800 focus-visible:outline-none focus-visible:ring dark:border-gray-700 dark:bg-surface-dark dark:text-text-dark"
        />
      </label>
    </div>
    <nav class="flex items-center gap-3 text-sm" aria-label="Accesos r√°pidos">
      <a
        href="/cart"
        class="flex items-center gap-1 rounded px-2 py-1 hover:text-accent focus-visible:outline-none focus-visible:ring"
      >
        <span aria-hidden="true">üõí</span> {locale('cart')}
      </a>
      <a
        href="/profile"
        class="flex items-center gap-1 rounded px-2 py-1 hover:text-accent focus-visible:outline-none focus-visible:ring"
      >
        <span aria-hidden="true">üë§</span> {locale('profile')}
      </a>
      <a
        href="/contact"
        class="flex items-center gap-1 rounded px-2 py-1 hover:text-accent focus-visible:outline-none focus-visible:ring"
      >
        <span aria-hidden="true">‚úâÔ∏è</span> Contacto
      </a>
      {themeSettings.darkMode?.enabled && <ThemeToggle client:load />}
    </nav>
  </div>
</header>
